plugins {
    id 'org.springframework.boot' version '2.0.6.RELEASE'
    id 'com.palantir.docker' version '0.20.1'
}

apply plugin: 'com.palantir.docker'

bootJar {
    baseName = 'coding-challenge-main'
    version = '1.0.0'
    mainClassName = 'com.cs.main.Main'
}

dependencies {
    compile project(':coding-challenge-core')
}

docker {
    dependsOn bootJar
    copySpec.from("build/libs").into("build/libs")
    name 'coding-challenge-rest'
    tags 'latest'
    dockerfile file('Dockerfile')
}